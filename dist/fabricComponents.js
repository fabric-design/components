!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports["fabric-components"]=t(require("react"),require("react-dom")):e["fabric-components"]=t(e.React,e.ReactDOM)}(window,function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(t,n){t.exports=e},function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*! flatpickr v2.4.4, @license MIT */function i(e,t){var n=this;function o(e){return e&&e.bind?e.bind(n):e}function a(e){n.config.noCalendar&&!n.selectedDates.length&&(n.selectedDates=[n.now]),function(e){e.preventDefault();var t="keydown"===e.type,r=(e.type,e.type,e.target);"input"!==e.type&&!t&&(e.target.value||e.target.textContent).length>=2&&(e.target.focus(),e.target.blur());if(n.amPM&&e.target===n.amPM)return e.target.textContent=["AM","PM"]["AM"===e.target.textContent|0];var i=Number(r.min),o=Number(r.max),a=Number(r.step),l=parseInt(r.value,10),s=e.delta||(t?38===e.which?1:-1:Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY))||0),c=l+a*s;if(2===r.value.length){var u=r===n.hourElement,f=r===n.minuteElement;c<i?(c=o+c+!u+(u&&!n.amPM),f&&p(null,-1,n.hourElement)):c>o&&(c=r===n.hourElement?c-o-!n.amPM:i,f&&p(null,1,n.hourElement)),n.amPM&&u&&(1===a?c+l===23:Math.abs(c-l)>a)&&(n.amPM.textContent="PM"===n.amPM.textContent?"AM":"PM"),r.value=n.pad(c)}}(e),n.selectedDates.length&&(!n.minDateHasTime||"input"!==e.type||e.target.value.length>=2?(l(),I()):setTimeout(function(){l(),I()},1e3))}function l(){if(n.config.enableTime){var e=parseInt(n.hourElement.value,10)||0,t=parseInt(n.minuteElement.value,10)||0,r=n.config.enableSeconds&&parseInt(n.secondElement.value,10)||0;n.amPM&&(e=e%12+12*("PM"===n.amPM.textContent)),n.minDateHasTime&&0===W(n.latestSelectedDateObj,n.config.minDate)&&(e=Math.max(e,n.config.minDate.getHours()))===n.config.minDate.getHours()&&(t=Math.max(t,n.config.minDate.getMinutes())),n.maxDateHasTime&&0===W(n.latestSelectedDateObj,n.config.maxDate)&&(e=Math.min(e,n.config.maxDate.getHours()))===n.config.maxDate.getHours()&&(t=Math.min(t,n.config.maxDate.getMinutes())),c(e,t,r)}}function s(e){var t=e||n.latestSelectedDateObj;t&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,r){n.selectedDates.length&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.config.enableTime&&!n.isMobile&&(n.hourElement.value=n.pad(n.config.time_24hr?e:(12+e)%12+12*(e%12==0)),n.minuteElement.value=n.pad(t),!n.config.time_24hr&&n.selectedDates.length&&(n.amPM.textContent=n.latestSelectedDateObj.getHours()>=12?"PM":"AM"),n.config.enableSeconds&&(n.secondElement.value=n.pad(r)))}function u(e){var t=e.target.value;e.delta&&(t=(parseInt(t)+e.delta).toString()),4===t.length&&(n.currentYearElement.blur(),/[^\d]/.test(t)||k(t))}function f(e){e=e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now);try{n.currentYear=e.getFullYear(),n.currentMonth=e.getMonth()}catch(t){console.error(t.stack),console.warn("Invalid date supplied: "+e)}n.redraw()}function p(e,t,n){var r=n||e.target.parentNode.childNodes[0];if("undefined"!=typeof Event){var i=new Event("increment",{bubbles:!0});i.delta=t,r.dispatchEvent(i)}else{var o=window.document.createEvent("CustomEvent");o.initCustomEvent("increment",!0,!0,{}),o.delta=t,r.dispatchEvent(o)}}function d(e){var t=A("div","numInputWrapper"),n=A("input","numInput "+e),r=A("span","arrowUp"),i=A("span","arrowDown");return n.type="text",n.pattern="\\d*",t.appendChild(n),t.appendChild(r),t.appendChild(i),r.addEventListener("click",function(e){return p(e,1)}),i.addEventListener("click",function(e){return p(e,-1)}),t}function h(e,t,r){var i=E(t,!0),o=A("span","flatpickr-day "+e,t.getDate());return o.dateObj=t,F(o,"today",0===W(t,n.now)),i?(o.tabIndex=0,L(t)&&(o.classList.add("selected"),n.selectedDateElem=o,"range"===n.config.mode&&(F(o,"startRange",0===W(t,n.selectedDates[0])),F(o,"endRange",0===W(t,n.selectedDates[1]))))):(o.classList.add("disabled"),n.selectedDates[0]&&t>n.minRangeDate&&t<n.selectedDates[0]?n.minRangeDate=t:n.selectedDates[0]&&t<n.maxRangeDate&&t>n.selectedDates[0]&&(n.maxRangeDate=t)),"range"===n.config.mode&&(function(e){if("range"!==n.config.mode||n.selectedDates.length<2)return!1;return W(e,n.selectedDates[0])>=0&&W(e,n.selectedDates[1])<=0}(t)&&!L(t)&&o.classList.add("inRange"),1===n.selectedDates.length&&(t<n.minRangeDate||t>n.maxRangeDate)&&o.classList.add("notAllowed")),n.config.weekNumbers&&"prevMonthDay"!==e&&r%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='disabled flatpickr-day'>"+n.config.getWeek(t)+"</span>"),S("DayCreate",o),o}function m(e,t){var r=(new Date(n.currentYear,n.currentMonth,1).getDay()-n.l10n.firstDayOfWeek+7)%7,i="range"===n.config.mode;n.prevMonthDays=n.utils.getDaysinMonth((n.currentMonth-1+12)%12);var o=n.utils.getDaysinMonth(),a=window.document.createDocumentFragment(),l=n.prevMonthDays+1-r;for(n.config.weekNumbers&&n.weekNumbers.firstChild&&(n.weekNumbers.textContent=""),i&&(n.minRangeDate=new Date(n.currentYear,n.currentMonth-1,l),n.maxRangeDate=new Date(n.currentYear,n.currentMonth+1,(42-r)%o)),n.days.firstChild&&(n.days.textContent="");l<=n.prevMonthDays;l++)a.appendChild(h("prevMonthDay",new Date(n.currentYear,n.currentMonth-1,l),l));for(l=1;l<=o;l++)a.appendChild(h("",new Date(n.currentYear,n.currentMonth,l),l));for(var s=o+1;s<=42-r;s++)a.appendChild(h("nextMonthDay",new Date(n.currentYear,n.currentMonth+1,s%o),s));return i&&1===n.selectedDates.length&&a.childNodes[0]?(n._hidePrevMonthArrow=n._hidePrevMonthArrow||n.minRangeDate>a.childNodes[0].dateObj,n._hideNextMonthArrow=n._hideNextMonthArrow||n.maxRangeDate<new Date(n.currentYear,n.currentMonth+1,1)):N(),n.days.appendChild(a),n.days}function v(){n.weekdayContainer||(n.weekdayContainer=A("div","flatpickr-weekdays"));var e=n.l10n.firstDayOfWeek,t=n.l10n.weekdays.shorthand.slice();return e>0&&e<t.length&&(t=[].concat(t.splice(e,t.length),t.splice(0,e))),n.weekdayContainer.innerHTML="\n\t\t<span class=flatpickr-weekday>\n\t\t\t"+t.join("</span><span class=flatpickr-weekday>")+"\n\t\t</span>\n\t\t",n.weekdayContainer}function g(e,t){var r=(t=void 0===t||t)?e:e-n.currentMonth;r<0&&n._hidePrevMonthArrow||r>0&&n._hideNextMonthArrow||(n.currentMonth+=r,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,S("YearChange")),N(),m(),n.config.noCalendar||n.days.focus(),S("MonthChange"))}function b(e){(e=e||n).clear(!1),window.removeEventListener("resize",e.debouncedResize),window.document.removeEventListener("click",y),window.document.removeEventListener("touchstart",y),window.document.removeEventListener("blur",y),e.timeContainer&&e.timeContainer.removeEventListener("transitionend",M),e.mobileInput?(e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),delete e.mobileInput):e.calendarContainer&&e.calendarContainer.parentNode&&e.calendarContainer.parentNode.removeChild(e.calendarContainer),e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeEventListener("focus",P),e.input.removeAttribute("readonly"),delete e.input._flatpickr}function y(e){var t=n.element.contains(e.target)||e.target===n.input||e.target===n.altInput||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput));!n.isOpen||n.config.inline||function(e){return!(!n.config.appendTo||!n.config.appendTo.contains(e))||n.calendarContainer.contains(e)}(e.target)||t||(e.preventDefault(),n.close(),"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(),n.redraw()))}function w(e,t){if(n.config.formatDate)return n.config.formatDate(e,t);var r=e.split("");return r.map(function(e,i){return n.formats[e]&&"\\"!==r[i-1]?n.formats[e](t):"\\"!==e?e:""}).join("")}function k(e){if(!(!e||n.currentYearElement.min&&e<n.currentYearElement.min||n.currentYearElement.max&&e>n.currentYearElement.max)){var t=parseInt(e,10),r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),S("YearChange"))}}function E(e,t){var i=W(e,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0,o=W(e,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0;if(i||o)return!1;if(!n.config.enable.length&&!n.config.disable.length)return!0;for(var a,l=n.parseDate(e,!0),s=n.config.enable.length>0,c=s?n.config.enable:n.config.disable,u=0;u<c.length;u++){if((a=c[u])instanceof Function&&a(l))return s;if(a instanceof Date&&a.getTime()===l.getTime())return s;if("string"==typeof a&&n.parseDate(a,!0).getTime()===l.getTime())return s;if("object"===(void 0===a?"undefined":r(a))&&a.from&&a.to&&l>=a.from&&l<=a.to)return s}return!s}function O(e){if(e.target===(n.altInput||n.input)&&13===e.which)x(e);else if(n.isOpen||n.config.inline)switch(e.which){case 13:n.timeContainer&&n.timeContainer.contains(e.target)?I():x(e);break;case 27:n.close();break;case 37:e.target!==n.input&e.target!==n.altInput&&(e.preventDefault(),g(-1),n.currentMonthElement.focus());break;case 38:n.timeContainer&&n.timeContainer.contains(e.target)?a(e):(e.preventDefault(),n.currentYear++,n.redraw());break;case 39:e.target!==n.input&e.target!==n.altInput&&(e.preventDefault(),g(1),n.currentMonthElement.focus());break;case 40:n.timeContainer&&n.timeContainer.contains(e.target)?a(e):(e.preventDefault(),n.currentYear--,n.redraw())}}function D(e){if(1===n.selectedDates.length&&e.target.classList.contains("flatpickr-day")){for(var t=e.target.dateObj,r=n.parseDate(n.selectedDates[0],!0),i=Math.min(t.getTime(),n.selectedDates[0].getTime()),o=Math.max(t.getTime(),n.selectedDates[0].getTime()),a=!1,l=i;l<o;l+=n.utils.duration.DAY)if(!E(new Date(l))){a=!0;break}for(var s=function(l,s){var c=l<n.minRangeDate.getTime()||l>n.maxRangeDate.getTime();if(c)return n.days.childNodes[s].classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){n.days.childNodes[s].classList.remove(e)}),"continue";if(a&&!c)return"continue";["startRange","inRange","endRange","notAllowed"].forEach(function(e){n.days.childNodes[s].classList.remove(e)});var u=Math.max(n.minRangeDate.getTime(),i),f=Math.min(n.maxRangeDate.getTime(),o);e.target.classList.add(t<n.selectedDates[0]?"startRange":"endRange"),r>t&&l===r.getTime()?n.days.childNodes[s].classList.add("endRange"):r<t&&l===r.getTime()?n.days.childNodes[s].classList.add("startRange"):l>=u&&l<=f&&n.days.childNodes[s].classList.add("inRange")},c=n.days.childNodes[0].dateObj.getTime(),u=0;u<42;u++,c+=n.utils.duration.DAY)s(c,u)}}function C(){!n.isOpen||n.config.static||n.config.inline||M()}function P(e){if(n.isMobile)return e&&(e.preventDefault(),e.target.blur()),setTimeout(function(){n.mobileInput.click()},0),void S("Open");n.isOpen||(n.altInput||n.input).disabled||n.config.inline||(n.calendarContainer.classList.add("open"),n.config.static||n.config.inline||M(),n.isOpen=!0,n.config.allowInput||((n.altInput||n.input).blur(),(n.config.noCalendar?n.timeContainer:n.selectedDateElem?n.selectedDateElem:n.days).focus()),(n.altInput||n.input).classList.add("active"),S("Open"))}function j(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t),i=n.config["_"+("min"===e?"max":"min")+"Date"],o=t&&r instanceof Date;o&&(n[e+"DateHasTime"]=r.getHours()||r.getMinutes()||r.getSeconds()),n.selectedDates&&(n.selectedDates=n.selectedDates.filter(function(e){return E(e)}),n.selectedDates.length||"min"!==e||s(r),I()),n.days&&(T(),o?n.currentYearElement[e]=r.getFullYear():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=i&&r&&i.getFullYear()===r.getFullYear())}}function M(e){if(!e||e.target===n.timeContainer){var t=n.calendarContainer.offsetHeight,r=n.calendarContainer.offsetWidth,i=n.config.position,o=n.altInput||n.input,a=o.getBoundingClientRect(),l=window.innerHeight-a.bottom+o.offsetHeight,s="above"===i||"below"!==i&&l<t+60,c=window.pageYOffset+a.top+(s?-t-2:o.offsetHeight+2);if(F(n.calendarContainer,"arrowTop",!s),F(n.calendarContainer,"arrowBottom",s),!n.config.inline){var u=window.pageXOffset+a.left,f=window.document.body.offsetWidth-a.right,p=u+r>window.document.body.offsetWidth;F(n.calendarContainer,"rightMost",p),n.config.static||(n.calendarContainer.style.top=c+"px",p?(n.calendarContainer.style.left="auto",n.calendarContainer.style.right=f+"px"):(n.calendarContainer.style.left=u+"px",n.calendarContainer.style.right="auto"))}}}function T(){n.config.noCalendar||n.isMobile||(v(),N(),m())}function x(e){if(e.preventDefault(),e.stopPropagation(),n.config.allowInput&&13===e.which&&e.target===(n.altInput||n.input))return n.setDate((n.altInput||n.input).value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat),e.target.blur();if(e.target.classList.contains("flatpickr-day")&&!e.target.classList.contains("disabled")&&!e.target.classList.contains("notAllowed")){var t=n.latestSelectedDateObj=new Date(e.target.dateObj.getTime());if(n.selectedDateElem=e.target,"single"===n.config.mode)n.selectedDates=[t];else if("multiple"===n.config.mode){var r=L(t);r?n.selectedDates.splice(r,1):n.selectedDates.push(t)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(),n.selectedDates.push(t),0!==W(t,n.selectedDates[0],!0)&&n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(l(),t.getMonth()!==n.currentMonth&&"range"!==n.config.mode){var i=n.currentYear!==t.getFullYear();n.currentYear=t.getFullYear(),n.currentMonth=t.getMonth(),i&&S("YearChange"),S("MonthChange")}m(),n.minDateHasTime&&n.config.enableTime&&0===W(t,n.config.minDate)&&s(n.config.minDate),I(),setTimeout(function(){return n.showTimeInput=!0},50),"range"===n.config.mode&&(1===n.selectedDates.length?(D(e),n._hidePrevMonthArrow=n._hidePrevMonthArrow||n.minRangeDate>n.days.childNodes[0].dateObj,n._hideNextMonthArrow=n._hideNextMonthArrow||n.maxRangeDate<new Date(n.currentYear,n.currentMonth+1,1)):(N(),n.close())),13===e.which&&n.config.enableTime&&setTimeout(function(){return n.hourElement.focus()},451),"single"!==n.config.mode||n.config.enableTime||n.close(),S("Change")}}function _(e,t){if(Array.isArray(e))n.selectedDates=e.map(function(e){return n.parseDate(e,!1,t)});else if(e instanceof Date||!isNaN(e))n.selectedDates=[n.parseDate(e)];else if(e&&e.substring)switch(n.config.mode){case"single":n.selectedDates=[n.parseDate(e,!1,t)];break;case"multiple":n.selectedDates=e.split("; ").map(function(e){return n.parseDate(e,!1,t)});break;case"range":n.selectedDates=e.split(n.l10n.rangeSeparator).map(function(e){return n.parseDate(e,!1,t)})}n.selectedDates=n.selectedDates.filter(function(e){return e instanceof Date&&e.getTime()&&E(e,!1)}),n.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function S(e,t){var r=n.config["on"+e];if(r)for(var i=0;i<r.length;i++)r[i](n.selectedDates,n.input&&n.input.value,n,t);if("Change"===e)if("function"==typeof Event&&Event.constructor)n.input.dispatchEvent(new Event("change",{bubbles:!0})),n.input.dispatchEvent(new Event("input",{bubbles:!0}));else{if(void 0!==window.document.createEvent)return n.input.dispatchEvent(n.changeEvent);n.input.fireEvent("onchange")}}function L(e){for(var t=0;t<n.selectedDates.length;t++)if(0===W(n.selectedDates[t],e))return""+t;return!1}function N(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.currentMonthElement.textContent=n.utils.monthToStr(n.currentMonth)+" ",n.currentYearElement.value=n.currentYear,n._hidePrevMonthArrow=n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function I(){if(!n.selectedDates.length)return n.clear();n.isMobile&&(n.mobileInput.value=n.selectedDates.length?w(n.mobileFormatStr,n.latestSelectedDateObj):"");var e="range"!==n.config.mode?"; ":n.l10n.rangeSeparator;n.input.value=n.selectedDates.map(function(e){return w(n.config.dateFormat,e)}).join(e),n.config.altInput&&(n.altInput.value=n.selectedDates.map(function(e){return w(n.config.altFormat,e)}).join(e)),S("ValueUpdate")}function A(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,n&&(r.textContent=n),r}function Y(e){return Array.isArray(e)?e:[e]}function F(e,t,n){if(n)return e.classList.add(t);e.classList.remove(t)}function R(e,t,n){var r=void 0;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];var l=this;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(l,o)},t),n&&!r&&e.apply(l,o)}}function W(e,t,n){return e instanceof Date&&t instanceof Date&&(!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime())}return n.changeMonth=g,n.changeYear=k,n.clear=function(e){n.input.value="",n.altInput&&(n.altInput.value="");n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=null,n.showTimeInput=!1,n.redraw(),!1!==e&&S("Change")},n.close=function(){n.isOpen=!1,n.isMobile||(n.calendarContainer.classList.remove("open"),(n.altInput||n.input).classList.remove("active"));S("Close")},n.documentClick=y,n._createElement=A,n.destroy=b,n.formatDate=w,n.isEnabled=E,n.jumpToDate=f,n.open=P,n.redraw=T,n.set=function(e,t){n.config[e]=t,n.redraw(),f()},n.setDate=function(e,t,r){if(!e)return n.clear();_(e,r),n.selectedDates.length>0?(n.showTimeInput=!0,n.latestSelectedDateObj=n.selectedDates[0]):n.latestSelectedDateObj=null;n.redraw(),f(),s(),I(),!1!==t&&S("Change")},n.toggle=function(){n.isOpen?n.close():n.open()},e._flatpickr&&b(e._flatpickr),e._flatpickr=n,n.element=e,n.instanceConfig=t||{},n.parseDate=i.prototype.parseDate.bind(n),["D","F","J","M","W","l"].forEach(function(e){n.formats[e]=i.prototype.formats[e].bind(n)}),n.revFormat.F=i.prototype.revFormat.F.bind(n),n.revFormat.M=i.prototype.revFormat.M.bind(n),function(){var e=["utc","wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=["onChange","onClose","onDayCreate","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange"];n.config=Object.create(i.defaultConfig);var r=Object.assign({},n.instanceConfig,JSON.parse(JSON.stringify(n.element.dataset||{})));n.config.parseDate=r.parseDate,n.config.formatDate=r.formatDate,Object.assign(n.config,r),!r.dateFormat&&r.enableTime&&(n.config.dateFormat=n.config.noCalendar?"H:i"+(n.config.enableSeconds?":S":""):i.defaultConfig.dateFormat+" H:i"+(n.config.enableSeconds?":S":"")),r.altInput&&r.enableTime&&!r.altFormat&&(n.config.altFormat=n.config.noCalendar?"h:i"+(n.config.enableSeconds?":S K":" K"):i.defaultConfig.altFormat+" h:i"+(n.config.enableSeconds?":S":"")+" K"),Object.defineProperty(n.config,"minDate",{get:function(){return this._minDate},set:j("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return this._maxDate},set:j("max")}),n.config.minDate=r.minDate,n.config.maxDate=r.maxDate;for(var a=0;a<e.length;a++)n.config[e[a]]=!0===n.config[e[a]]||"true"===n.config[e[a]];for(var l=0;l<t.length;l++)n.config[t[l]]=Y(n.config[t[l]]||[]).map(o);for(var s=0;s<n.config.plugins.length;s++){var c=n.config.plugins[s](n)||{};for(var u in c)Array.isArray(n.config[u])?n.config[u]=Y(c[u]).map(o).concat(n.config[u]):void 0===r[u]&&(n.config[u]=c[u])}S("ParseConfig")}(),"object"!==r(n.config.locale)&&void 0===i.l10ns[n.config.locale]&&console.warn("flatpickr: invalid locale "+n.config.locale),n.l10n=Object.assign(Object.create(i.l10ns.default),"object"===r(n.config.locale)?n.config.locale:"default"!==n.config.locale&&i.l10ns[n.config.locale]||{}),function(){if(n.input=n.config.wrap?n.element.querySelector("[data-input]"):n.element,!n.input)return console.warn("Error: invalid input element specified",n.input);n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n.config.altInput&&(n.altInput=A(n.input.nodeName,n.input.className+" "+n.config.altInputClass),n.altInput.placeholder=n.input.placeholder,n.altInput.type="text",n.input.type="hidden",!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||(n.altInput||n.input).setAttribute("readonly","readonly")}(),function(){function e(e){for(var t=e.length;t--;)"string"==typeof e[t]||+e[t]?e[t]=n.parseDate(e[t],!0):e[t]&&e[t].from&&e[t].to&&(e[t].from=n.parseDate(e[t].from),e[t].to=n.parseDate(e[t].to));return e.filter(function(e){return e})}n.selectedDates=[],n.now=new Date,n.config.disable.length&&(n.config.disable=e(n.config.disable)),n.config.enable.length&&(n.config.enable=e(n.config.enable)),_(n.config.defaultDate||n.input.value);var t=n.selectedDates.length?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now?n.config.maxDate:n.now;n.currentYear=t.getFullYear(),n.currentMonth=t.getMonth(),n.selectedDates.length&&(n.latestSelectedDateObj=n.selectedDates[0]),n.minDateHasTime=n.config.minDate&&(n.config.minDate.getHours()||n.config.minDate.getMinutes()||n.config.minDate.getSeconds()),n.maxDateHasTime=n.config.maxDate&&(n.config.maxDate.getHours()||n.config.maxDate.getMinutes()||n.config.maxDate.getSeconds()),Object.defineProperty(n,"latestSelectedDateObj",{get:function(){return n._selectedDateObj||n.selectedDates[n.selectedDates.length-1]||null},set:function(e){n._selectedDateObj=e}}),n.isMobile||Object.defineProperty(n,"showTimeInput",{set:function(e){n.calendarContainer&&F(n.calendarContainer,"showTimeInput",e)}})}(),n.utils={duration:{DAY:864e5},getDaysinMonth:function(e,t){return e=void 0===e?n.currentMonth:e,t=void 0===t?n.currentYear:t,1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]},monthToStr:function(e,t){return t=void 0===t?n.config.shorthandCurrentMonth:t,n.l10n.months[(t?"short":"long")+"hand"][e]}},n.isOpen=n.config.inline,n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable.length&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n.isMobile||function(){var e=window.document.createDocumentFragment();n.calendarContainer=A("div","flatpickr-calendar"),n.numInputType=navigator.userAgent.indexOf("MSIE 9.0")>0?"text":"number",n.config.noCalendar||(e.appendChild(function(){var e=window.document.createDocumentFragment();n.monthNav=A("div","flatpickr-month"),n.prevMonthNav=A("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.currentMonthElement=A("span","cur-month"),n.currentMonthElement.title=n.l10n.scrollTitle;var t=d("cur-year");return n.currentYearElement=t.childNodes[0],n.currentYearElement.title=n.l10n.scrollTitle,n.config.minDate&&(n.currentYearElement.min=n.config.minDate.getFullYear()),n.config.maxDate&&(n.currentYearElement.max=n.config.maxDate.getFullYear(),n.currentYearElement.disabled=n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear()),n.nextMonthNav=A("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,n.navigationCurrentMonth=A("span","flatpickr-current-month"),n.navigationCurrentMonth.appendChild(n.currentMonthElement),n.navigationCurrentMonth.appendChild(t),e.appendChild(n.prevMonthNav),e.appendChild(n.navigationCurrentMonth),e.appendChild(n.nextMonthNav),n.monthNav.appendChild(e),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return this.__hidePrevMonthArrow},set:function(e){this.__hidePrevMonthArrow!==e&&(n.prevMonthNav.style.display=e?"none":"block"),this.__hidePrevMonthArrow=e}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return this.__hideNextMonthArrow},set:function(e){this.__hideNextMonthArrow!==e&&(n.nextMonthNav.style.display=e?"none":"block"),this.__hideNextMonthArrow=e}}),N(),n.monthNav}()),n.innerContainer=A("div","flatpickr-innerContainer"),n.config.weekNumbers&&n.innerContainer.appendChild((n.calendarContainer.classList.add("hasWeeks"),n.weekWrapper=A("div","flatpickr-weekwrapper"),n.weekWrapper.appendChild(A("span","flatpickr-weekday",n.l10n.weekAbbreviation)),n.weekNumbers=A("div","flatpickr-weeks"),n.weekWrapper.appendChild(n.weekNumbers),n.weekWrapper)),n.rContainer=A("div","flatpickr-rContainer"),n.rContainer.appendChild(v()),n.days||(n.days=A("div","flatpickr-days"),n.days.tabIndex=-1),m(),n.rContainer.appendChild(n.days),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)),n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar"),n.timeContainer=A("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var e=A("span","flatpickr-time-separator",":"),t=d("flatpickr-hour");n.hourElement=t.childNodes[0];var r=d("flatpickr-minute");if(n.minuteElement=r.childNodes[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=0,n.hourElement.value=n.pad(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.defaultHour),n.minuteElement.value=n.pad(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():n.config.defaultMinute),n.hourElement.step=n.config.hourIncrement,n.minuteElement.step=n.config.minuteIncrement,n.hourElement.min=n.config.time_24hr?0:1,n.hourElement.max=n.config.time_24hr?23:12,n.minuteElement.min=0,n.minuteElement.max=59,n.hourElement.title=n.minuteElement.title=n.l10n.scrollTitle,n.timeContainer.appendChild(t),n.timeContainer.appendChild(e),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var i=d("flatpickr-second");n.secondElement=i.childNodes[0],n.secondElement.value=n.latestSelectedDateObj?n.pad(n.latestSelectedDateObj.getSeconds()):"00",n.secondElement.step=n.minuteElement.step,n.secondElement.min=n.minuteElement.min,n.secondElement.max=n.minuteElement.max,n.timeContainer.appendChild(A("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(i)}return n.config.time_24hr||(n.amPM=A("span","flatpickr-am-pm",["AM","PM"][n.hourElement.value>11|0]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=0,n.timeContainer.appendChild(n.amPM)),n.timeContainer}()),"range"===n.config.mode&&n.calendarContainer.classList.add("rangeMode"),n.calendarContainer.appendChild(e);var t=n.config.appendTo&&n.config.appendTo.nodeType;if(n.config.inline||n.config.static){if(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),M(),n.config.inline&&!t)return n.element.parentNode.insertBefore(n.calendarContainer,(n.altInput||n.input).nextSibling);if(n.config.static){var r=A("div","flatpickr-wrapper");return n.element.parentNode.insertBefore(r,n.element),r.appendChild(n.element),n.altInput&&r.appendChild(n.altInput),void r.appendChild(n.calendarContainer)}}(t?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){if(n.config.wrap&&["open","close","toggle","clear"].forEach(function(e){for(var t=n.element.querySelectorAll("[data-"+e+"]"),r=0;r<t.length;r++)t[r].addEventListener("click",n[e])}),void 0!==window.document.createEvent&&(n.changeEvent=window.document.createEvent("HTMLEvents"),n.changeEvent.initEvent("change",!1,!0)),n.isMobile)return function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=A("input",n.input.className+" flatpickr-mobile"),n.mobileInput.step="any",n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length&&(n.mobileInput.defaultValue=n.mobileInput.value=w(n.mobileFormatStr,n.selectedDates[0])),n.config.minDate&&(n.mobileInput.min=w("Y-m-d",n.config.minDate)),n.config.maxDate&&(n.mobileInput.max=w("Y-m-d",n.config.maxDate)),n.input.type="hidden",n.config.altInput&&(n.altInput.type="hidden");try{n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}n.mobileInput.addEventListener("change",function(e){n.latestSelectedDateObj=n.parseDate(e.target.value),n.setDate(n.latestSelectedDateObj),S("Change"),S("Close")})}();n.debouncedResize=R(C,50),n.triggerChange=function(){S("Change")},n.debouncedChange=R(n.triggerChange,300),"range"===n.config.mode&&n.days&&n.days.addEventListener("mouseover",D),n.calendarContainer.addEventListener("keydown",O),!n.config.static&&n.config.allowInput&&(n.altInput||n.input).addEventListener("keydown",O),n.config.inline||n.config.static||window.addEventListener("resize",n.debouncedResize),window.ontouchstart&&window.document.addEventListener("touchstart",y),window.document.addEventListener("click",y),window.document.addEventListener("blur",y),n.config.clickOpens&&(n.altInput||n.input).addEventListener("focus",P),n.config.noCalendar||(n.prevMonthNav.addEventListener("click",function(){return g(-1)}),n.nextMonthNav.addEventListener("click",function(){return g(1)}),n.currentMonthElement.addEventListener("wheel",function(e){return R(function(e){e.preventDefault(),n.changeMonth(Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY)))}(e),50)}),n.currentYearElement.addEventListener("wheel",function(e){return R(function(e){e.preventDefault();var t=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY));k(parseInt(e.target.value,10)+t),e.target.value=n.currentYear}(e),50)}),n.currentYearElement.addEventListener("focus",function(){n.currentYearElement.select()}),n.currentYearElement.addEventListener("input",u),n.currentYearElement.addEventListener("increment",u),n.days.addEventListener("click",x)),n.config.enableTime&&(n.timeContainer.addEventListener("transitionend",M),n.timeContainer.addEventListener("wheel",function(e){return R(a(e),5)}),n.timeContainer.addEventListener("input",a),n.timeContainer.addEventListener("increment",a),n.timeContainer.addEventListener("increment",n.debouncedChange),n.timeContainer.addEventListener("wheel",n.debouncedChange),n.timeContainer.addEventListener("input",n.triggerChange),n.hourElement.addEventListener("focus",function(){n.hourElement.select()}),n.minuteElement.addEventListener("focus",function(){n.minuteElement.select()}),n.secondElement&&n.secondElement.addEventListener("focus",function(){n.secondElement.select()}),n.amPM&&n.amPM.addEventListener("click",function(e){a(e),n.triggerChange(e)}))}(),n.selectedDates.length&&(n.config.enableTime&&s(),I()),n.config.weekNumbers&&(n.calendarContainer.style.width=n.days.clientWidth+n.weekWrapper.clientWidth+"px"),n.showTimeInput=n.selectedDates.length||n.config.noCalendar,n.isMobile||M(),S("Ready"),n}function o(e,t){for(var n=Array.prototype.slice.call(e),r=[],o=0;o<n.length;o++)try{n[o]._flatpickr=new i(n[o],t||{}),r.push(n[o]._flatpickr)}catch(e){console.warn(e,e.stack)}return 1===r.length?r[0]:r}i.defaultConfig={mode:"single",position:"top",utc:!1,wrap:!1,weekNumbers:!1,allowInput:!1,clickOpens:!0,time_24hr:!1,enableTime:!1,noCalendar:!1,dateFormat:"Y-m-d",altInput:!1,altInputClass:"flatpickr-input form-control input",altFormat:"F j, Y",defaultDate:null,minDate:null,maxDate:null,parseDate:null,formatDate:null,getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},enable:[],disable:[],shorthandCurrentMonth:!1,inline:!1,static:!1,appendTo:null,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",enableSeconds:!1,hourIncrement:1,minuteIncrement:5,defaultHour:12,defaultMinute:0,disableMobile:!1,locale:"default",plugins:[],onClose:[],onChange:[],onDayCreate:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[]},i.l10ns={en:{weekdays:{shorthand:["Su","Mo","Tu","We","Th","Fr","Sa"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:1,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"CW",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle"}},i.l10ns.default=Object.create(i.l10ns.en),i.localize=function(e){return Object.assign(i.l10ns.default,e||{})},i.setDefaults=function(e){return Object.assign(i.defaultConfig,e||{})},i.prototype={formats:{Z:function(e){return e.toISOString()},D:function(e){return this.l10n.weekdays.shorthand[this.formats.w(e)]},F:function(e){return this.utils.monthToStr(this.formats.n(e)-1,!1)},H:function(e){return i.prototype.pad(e.getHours())},J:function(e){return e.getDate()+this.l10n.ordinal(e.getDate())},K:function(e){return e.getHours()>11?"PM":"AM"},M:function(e){return this.utils.monthToStr(e.getMonth(),!0)},S:function(e){return i.prototype.pad(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e){return this.config.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return i.prototype.pad(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return i.prototype.pad(e.getMinutes())},j:function(e){return e.getDate()},l:function(e){return this.l10n.weekdays.longhand[e.getDay()]},m:function(e){return i.prototype.pad(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},revFormat:{D:function(){},F:function(e,t){e.setMonth(this.l10n.months.longhand.indexOf(t))},H:function(e,t){return e.setHours(parseFloat(t))},J:function(e,t){return e.setDate(parseFloat(t))},K:function(e,t){var n=e.getHours();12!==n&&e.setHours(n%12+12*/pm/i.test(t))},M:function(e,t){e.setMonth(this.l10n.months.shorthand.indexOf(t))},S:function(e,t){return e.setSeconds(t)},W:function(){},Y:function(e,t){return e.setFullYear(t)},Z:function(e,t){return new Date(t)},d:function(e,t){return e.setDate(parseFloat(t))},h:function(e,t){return e.setHours(parseFloat(t))},i:function(e,t){return e.setMinutes(parseFloat(t))},j:function(e,t){return e.setDate(parseFloat(t))},l:function(){},m:function(e,t){return e.setMonth(parseFloat(t)-1)},n:function(e,t){return e.setMonth(parseFloat(t)-1)},s:function(e,t){return e.setSeconds(parseFloat(t))},w:function(){},y:function(e,t){return e.setFullYear(2e3+parseFloat(t))}},tokenRegex:{D:"(\\w+)",F:"(\\w+)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"(\\w+)",M:"(\\w+)",S:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},pad:function(e){return("0"+e).slice(-2)},parseDate:function(e,t,n){if(!e)return null;var r=e;if(e.toFixed)e=new Date(e);else if("string"==typeof e){var i="string"==typeof n?n:this.config.dateFormat;if("today"===(e=e.trim()))e=new Date,t=!0;else if(this.config&&this.config.parseDate)e=this.config.parseDate(e);else if(/Z$/.test(e)||/GMT$/.test(e))e=new Date(e);else{for(var o=this.config.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),a=!1,l=0,s=0,c="";l<i.length;l++){var u=i[l],f="\\"===u,p="\\"===i[l-1]||f;if(this.tokenRegex[u]&&!p){c+=this.tokenRegex[u];var d=new RegExp(c).exec(e);d&&(a=!0)&&this.revFormat[u](o,d[++s])}else f||(c+=".")}e=a?o:null}}else e instanceof Date&&(e=new Date(e.getTime()));return e instanceof Date?(this.config&&this.config.utc&&!e.fp_isUTC&&(e=e.fp_toUTC()),!0===t&&e.setHours(0,0,0,0),e):(console.warn("flatpickr: invalid date "+r),console.info(this.element),null)}},"undefined"!=typeof HTMLElement&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return o(this,e)},HTMLElement.prototype.flatpickr=function(e){return o([this],e)}),"undefined"!=typeof jQuery&&(jQuery.fn.flatpickr=function(e){return o(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+parseInt(e,10))},Date.prototype.fp_isUTC=!1,Date.prototype.fp_toUTC=function(){var e=new Date(this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds());return e.fp_isUTC=!0,e},!window.document.documentElement.classList&&Object.defineProperty&&"undefined"!=typeof HTMLElement&&Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var e=this;function t(t){return function(n){var r=e.className.split(/\s+/),i=r.indexOf(n);t(r,i,n),e.className=r.join(" ")}}var n={add:t(function(e,t,n){~t||e.push(n)}),remove:t(function(e,t){~t&&e.splice(t,1)}),toggle:t(function(e,t,n){~t?e.splice(t,1):e.push(n)}),contains:function(t){return!!~e.className.split(/\s+/).indexOf(t)},item:function(t){return e.className.split(/\s+/)[t]||null}};return Object.defineProperty(n,"length",{get:function(){return e.className.split(/\s+/).length}}),n}}),e.exports=i},function(e,t,n){e.exports=n(8)()},function(e,n){e.exports=t},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(3),o=n(2),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l={createElement:r.createElement||r.h,cloneElement:r.cloneElement,Children:r.Children},s=o,c=(i.render,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),a(t,[{key:"dispatchEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=new window.CustomEvent(e,{detail:t,bubbles:n});this.element&&this.element.dispatchEvent(r)}}]),t}()),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t?t+"-":""}return u(e,[{key:"set",value:function(e,t){throw new Error("'"+this.constructor.name+"' must implement function 'set'")}},{key:"get",value:function(e){throw new Error("'"+this.constructor.name+"' must implement function 'get'")}},{key:"remove",value:function(e){throw new Error("'"+this.constructor.name+"' must implement function 'remove'")}}]),e}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=/.*?([a-zA-Z0-9-]{3,}\.[a-zA-Z0-9]{2,})$/,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),p(t,[{key:"set",value:function(e,t){var n=new Date;n.setFullYear(n.getFullYear()+1),this.createCookie(e,t,n)}},{key:"get",value:function(e){var t=new RegExp(""+this.name+e+"=(.*?)(;|$)"),n=document.cookie.match(t);if(n)try{return JSON.parse(decodeURIComponent(n[1]))}catch(t){console.warn("Could not deserialize "+e)}}},{key:"remove",value:function(e){var t=new Date;t.setDate(t.getDate()-1),this.createCookie(e,null,t)}},{key:"createCookie",value:function(e,t,n){var r=encodeURIComponent(JSON.stringify(t)),i=window.location.hostname.replace(d,"$1");document.cookie=""+this.name+e+"="+r+";expires="+n+";domain="+i}}]),t}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),m(t,[{key:"set",value:function(e,t){var n=encodeURIComponent(JSON.stringify(t));window.localStorage.setItem(""+this.name+e,n)}},{key:"get",value:function(e){var t=window.localStorage.getItem(""+this.name+e);if(t)try{return JSON.parse(decodeURIComponent(t))}catch(t){console.warn("Could not deserialize "+e)}}},{key:"remove",value:function(e){window.localStorage.removeItem(""+this.name+e)}}]),t}(),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=console,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.token=t}return g(e,[{key:"getParsedToken",value:function(){if(!this.parsedToken){var e=this.token.split(".");this.parsedToken=JSON.parse(atob(e[1]))}return this.parsedToken}},{key:"isValid",value:function(){try{var e=this.getParsedToken(),t=1e3*parseInt(e.exp,10);return(new Date).getTime()<t}catch(e){b.warn("The validity of the token could not be determined")}return!1}},{key:"getUserAbbreviation",value:function(){try{var e=this.getParsedToken();return e[Object.keys(e).find(function(e){return e.includes("managed-id")})]}catch(e){b.warn("The validity of the token could not be determined")}return null}},{key:"toString",value:function(){return this.token}},{key:"valueOf",value:function(){return this.toString()}},{key:"toJSON",value:function(){return this.toString()}}]),e}(),w=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=t,this.accessToken=void 0}return k(e,[{key:"onAccessTokenChange",value:function(e){this.accessTokenChange=e}},{key:"changeAccessToken",value:function(e){this.accessToken!==e&&(this.accessToken=e,"function"==typeof this.accessTokenChange&&this.accessTokenChange(e))}},{key:"tryFetchToken",value:function(e){var t={};if((e||"").split("&").forEach(function(e){var n=e.split("="),r=w(n,2),i=r[0],o=r[1];t[i]=decodeURIComponent(o)}),t.state){if(this.storage.get("state")!==t.state)throw new Error("Unexpected authorisation response");var n=new y(t.access_token);this.storage.set("access_token",n),this.changeAccessToken(n)}else if(this.storage.get("access_token")){var r=new y(this.storage.get("access_token"));this.changeAccessToken(r)}else this.changeAccessToken(null)}},{key:"authorize",value:function(e,t,n){var r=this.buildQuery([["business_partner_id",n],["client_id",t],["state",this.createAndRememberUUID()],["response_type","token"]]);window.location.href=e+"?"+r}},{key:"unauthorize",value:function(){this.storage.remove("access_token"),this.changeAccessToken(null)}},{key:"createAndRememberUUID",value:function(){var e=function(e){return Math.round(Math.random()*Math.pow(10,e)).toString(16).substring(0,e)},t=e(8)+"-"+e(4)+"-"+e(4)+"-"+e(4)+"-"+e(12);return this.storage.set("state",t),t}},{key:"buildQuery",value:function(e){return e.map(function(e){return e[0]+"="+encodeURIComponent(e[1])}).join("&")}}]),e}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var D=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperty(r,"onMouseDown",{enumerable:!0,writable:!0,value:function(e){e.preventDefault()}}),Object.defineProperty(r,"onClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),"activeElement"in document&&document.activeElement.blur();var t=r.state.item;t.disabled||(r.props.isParent?r.props.handle("go-back"):t.children&&t.children.length?r.props.handle("show-child",r.menu):r.context.multiple?(t.selected=!t.selected,r.setState({item:t})):t.selected?r.props.handle("change",null):(t.selected=!0,t.stored=!0,r.setState({item:t}),r.props.handle("change",t)))}}),Object.defineProperty(r,"handlePropagation",{enumerable:!0,writable:!0,value:function(e,t){r.props.handle(e,t)}}),r.state={item:e.item},r.menu=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),O(t,[{key:"componentDidMount",value:function(){this.dropdownItem.addEventListener("click",this.onClick),this.dropdownItem.addEventListener("mousedown",this.onMouseDown)}},{key:"componentWillReceiveProps",value:function(e){this.setState({item:e.item})}},{key:"componentWillUnmount",value:function(){this.dropdownItem.removeEventListener("click",this.onClick),this.dropdownItem.removeEventListener("mousedown",this.onMouseDown)}},{key:"render",value:function(){var e=this,t=this.state.item,n="text";n+=t.selected?" is-active":"",n+=t.focused?" is-focused":"",n+=t.disabled?" is-disabled":"",n+=" "+(t.className||"");var r="dropdown-item";return r+=this.props.isParent?" dropdown-parent-item":"",r+=t.children&&!this.props.isParent?" has-children":"",l.createElement("li",{className:r},l.createElement("a",{className:n,href:t.href,title:t.title||t.label,ref:function(t){e.dropdownItem=t}},(this.props.icon||t.icon)&&l.createElement("i",{className:"icon "+(this.props.icon||t.icon)}),t.label),!this.props.isParent&&t.children&&l.createElement(M,{items:t.children,parent:t,ref:function(t){e.menu=t},handle:this.handlePropagation}))}}]),t}();Object.defineProperty(D,"defaultProps",{enumerable:!0,writable:!0,value:{item:null,icon:null,isParent:!1,handle:function(){}}}),Object.defineProperty(D,"propTypes",{enumerable:!0,writable:!0,value:{item:s.object,icon:s.string,isParent:s.bool,handle:s.func}}),Object.defineProperty(D,"contextTypes",{enumerable:!0,writable:!0,value:{multiple:s.bool}});var C=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var P=["oAnimationStart","MSAnimationStart","animationstart"],j=["oAnimationEnd","MSAnimationEnd","animationend"],M=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return Object.defineProperty(r,"onOpen",{enumerable:!0,writable:!0,value:function(){r.isActive=!0,window.addEventListener("keydown",r.onGlobalKeyDown)}}),Object.defineProperty(r,"onClose",{enumerable:!0,writable:!0,value:function(){r.isActive=!1,window.removeEventListener("keydown",r.onGlobalKeyDown)}}),Object.defineProperty(r,"onGlobalKeyDown",{enumerable:!0,writable:!0,value:function(e){switch(e.key){case"ArrowUp":e.preventDefault(),r.focusNextItem(-1);break;case"ArrowDown":e.preventDefault(),r.focusNextItem(1);break;case"Enter":e.preventDefault(),e.stopPropagation(),r.selectCurrentItem()}}}),Object.defineProperty(r,"onKeyUpUpdateFilter",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),r.setState({filter:e.target.value})}}),Object.defineProperty(r,"onClickSubmit",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=r.state.items.filter(function(e){return e.focused=!1,e.stored=e.selected,e.selected});r.props.handle("change",t),r.setState({value:t})}}),Object.defineProperty(r,"onClickSelectAll",{enumerable:!0,writable:!0,value:function(){r.state.items&&(r.state.items.forEach(function(e){e.selected=!r.state.selectAllActive}),r.setState({items:r.state.items,selectAllActive:!r.state.selectAllActive}))}}),Object.defineProperty(r,"handlePropagation",{enumerable:!0,writable:!0,value:function(e,t){switch(e){case"go-back":r.props.handle("show-parent");break;case"show-parent":r.showCurrent();break;case"show-child":r.showChild(t);break;case"change":if(r.props.filterable&&r.setState({filter:""}),!r.context.multiple){var n=r.state.items.find(function(e){return e.stored&&e!==t});n&&(n.stored=!1,n.selected=!1)}r.props.handle(e,t);break;case"change-height":default:r.props.handle(e,t)}}}),r.openSubMenu=null,r.selectedIndex=-1,r.state={filter:e.filter,filtered:e.filtered||e.filterable,items:e.items,value:e.value,selectAllActive:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),C(t,[{key:"componentDidMount",value:function(){this.input&&(this.input.addEventListener("keyup",this.onKeyUpUpdateFilter),this.input.addEventListener("change",function(e){return e.stopPropagation()})),this.button&&(this.button.addEventListener("click",this.onClickSubmit),this.button.addEventListener("keydown",function(e){return e.stopPropagation()})),this.selectAllButton&&this.selectAllButton.addEventListener("click",this.onClickSelectAll)}},{key:"componentWillReceiveProps",value:function(e){this.setState({filter:e.filter,filtered:e.filtered||e.filterable,items:e.items,value:e.value,selectAllActive:e.selectAllActive})}},{key:"componentDidUpdate",value:function(){this.isActive&&this.props.handle("change-height",this.getHeight())}},{key:"componentWillUnmount",value:function(){this.input&&(this.input.removeEventListener("keyup",this.onKeyUpUpdateFilter),this.input.removeEventListener("change",function(e){return e.stopPropagation()})),this.button&&(this.button.removeEventListener("click",this.onClickSubmit),this.button.removeEventListener("keydown",function(e){return e.stopPropagation()})),this.selectAllButton&&this.selectAllButton.removeEventListener("click",this.onClickSelectAll)}},{key:"getHeight",value:function(){return this.menuContainer.clientHeight}},{key:"getFilteredItems",value:function(){var e=this;if((this.state.filter?this.state.filter.length:0)<this.props.minFilterLength)return[];var t=this.state.filter.replace(/[.*?^${}()|[]]/g,"\\$&"),n=new RegExp(t,"i");return this.state.items.filter(function(t){return!(e.state.filtered&&e.state.filter&&!n.test(t.label))&&(!e.state.filtered&&!e.context.multiple||!t.stored)})}},{key:"getItemAtIndex",value:function(e){var t=this.state.filtered?this.props.limit:this.state.items.length,n=this.getFilteredItems().slice(0,t),r=0;(this.context.multiple||this.state.filtered)&&(r=Array.isArray(this.state.value)?this.state.value.length:this.state.value?1:0);var i=n.length+r,o=e;return e>=i?o=0:e<0&&(o=i-1),r&&o<r&&o>=0?{item:Array.isArray(this.state.value)?this.state.value[o]:this.state.value,index:o}:{item:n[o-r],index:o}}},{key:"focusNextItem",value:function(e){this.state.items.forEach(function(e){e.focused=!1});var t=this.getItemAtIndex(this.selectedIndex+e);t.item.focused=!0,this.forceUpdate(),this.selectedIndex=t.index}},{key:"selectCurrentItem",value:function(){var e=this.getItemAtIndex(this.selectedIndex);e.item.selected=!e.item.selected,this.context.multiple||(e.item.stored=e.item.selected,this.handlePropagation("change",e.item.stored?e.item:null)),this.forceUpdate()}},{key:"showChild",value:function(e){this.openSubMenu=e,this.props.handle("change-height",e.getHeight()),this.animateOut(!1),e.animateIn(!1),e.isActive=!0,this.isActive=!1}},{key:"showCurrent",value:function(){this.openSubMenu&&(this.props.handle("change-height",this.getHeight()),this.openSubMenu.animateOut(!0),this.animateIn(!0),this.openSubMenu.isActive=!1,this.isActive=!0,this.openSubMenu=null)}},{key:"animateIn",value:function(e){var t=e?"animate-in":"animate-sub-in";this.animateElement(this.menuContainer,t,function(e){e.classList.remove("mod-sub-open"),e.classList.add("mod-menu-open")})}},{key:"animateOut",value:function(e){var t=e?"animate-sub-out":"animate-out";this.animateElement(this.menuContainer,t,function(t){t.classList.remove("mod-menu-open"),e||t.classList.add("mod-sub-open")})}},{key:"animateElement",value:function(e,t,n){var r=0,i=function i(){(r-=1)||(j.forEach(function(t){e.removeEventListener(t,i)}),window.removeEventListener("blur",i),e.classList.remove(t),n(e))};j.forEach(function(t){e.addEventListener(t,i)}),window.addEventListener("blur",i),P.forEach(function(t){e.addEventListener(t,function(){r+=1})}),e.classList.add(t)}},{key:"render",value:function(){var e=this,t=this.state.filtered?this.props.limit:this.state.items.length,n=this.getFilteredItems().slice(0,t),r=Array.isArray(this.state.value)?this.state.value.length:this.state.value;return l.createElement("ul",{className:"dropdown-menu "+(this.props.parent?"dropdown-child-menu":"dropdown-root-menu"),ref:function(t){e.menuContainer=t}},this.props.filterable&&l.createElement("li",{className:"dropdown-input",key:"filter"},l.createElement("input",{type:"text",defaultValue:this.state.filter,placeholder:this.props.placeholder,ref:function(t){e.input=t}})),this.props.parent&&[l.createElement(D,{item:this.props.parent,icon:"icon-left",handle:this.handlePropagation,key:"parent",isParent:!0}),l.createElement("li",{className:"dropdown-item-separator",key:"parent-separator"})],r&&(this.context.multiple||this.props.filterable)?[this.state.items.filter(function(e){return e.stored}).map(function(t,n){return l.createElement(D,{item:t,handle:e.handlePropagation,key:"value-"+n})}),l.createElement("li",{className:"dropdown-item-separator",key:"value-separator"})]:null,n.map(function(t,n){return l.createElement(D,{item:t,handle:e.handlePropagation,key:"item-"+n})}),this.state.filter.length<this.props.minFilterLength?l.createElement(D,{item:{label:"Nothing filtered",disabled:!0},key:"disabled"}):(!n||!n.length)&&l.createElement(D,{item:{label:"No results found",disabled:!0},key:"disabled"}),this.context.multiple&&[l.createElement("li",{className:"dropdown-item-separator",key:"submit-separator"}),l.createElement("li",{className:"dropdown-submit",key:"submit"},this.props.selectAll&&[l.createElement("button",{key:"selectAll",className:"mod-secondary mr-s mod-small "+(this.state.selectAllActive?"mod-toggle is-active":""),ref:function(t){e.selectAllButton=t}},"ALL")],l.createElement("button",{className:"mod-small dropdown-submit-button",ref:function(t){e.button=t}},"OK"))])}}]),t}();Object.defineProperty(M,"defaultProps",{enumerable:!0,writable:!0,value:{parent:null,items:[],value:null,filterable:!1,filter:"",filtered:!1,minFilterLength:0,placeholder:"",limit:10,selectAll:!1,handle:function(){}}}),Object.defineProperty(M,"propTypes",{enumerable:!0,writable:!0,value:{parent:s.object,items:s.array,value:s.oneOfType([s.string,s.array,s.object]),filterable:s.bool,filter:s.string,filtered:s.bool,minFilterLength:s.number,placeholder:s.string,limit:s.number,selectAll:s.bool,handle:s.func}}),Object.defineProperty(M,"contextTypes",{enumerable:!0,writable:!0,value:{multiple:s.bool}});var T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var x=13,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onKeyDown",{enumerable:!0,writable:!0,value:function(e){return e.which!==x||(n.onChange(e),n.onSubmit(),e.preventDefault(),!1)}}),Object.defineProperty(n,"onChange",{enumerable:!0,writable:!0,value:function(e){n.setState({value:e.target.value})}}),Object.defineProperty(n,"onSubmit",{enumerable:!0,writable:!0,value:function(){n.props.handle("change",n.state.value)}}),n.state={value:e.value&&e.value.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),T(t,[{key:"componentDidMount",value:function(){this.input.addEventListener("change",function(e){return e.stopPropagation()}),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("blur",this.onChange),this.button.addEventListener("click",this.onSubmit)}},{key:"componentWillUnmount",value:function(){this.input.removeEventListener("change",function(e){return e.stopPropagation()}),this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("blur",this.onChange),this.button.removeEventListener("click",this.onSubmit)}},{key:"onOpen",value:function(){this.input&&this.input.focus()}},{key:"getHeight",value:function(){return this.menuContainer.clientHeight}},{key:"render",value:function(){var e=this;return l.createElement("ul",{className:"dropdown-menu dropdown-root-menu",ref:function(t){e.menuContainer=t}},l.createElement("li",{className:"dropdown-input",key:"filter"},l.createElement("input",{type:"text",defaultValue:this.state.value,placeholder:this.props.placeholder,ref:function(t){e.input=t}})),l.createElement("li",{className:"dropdown-submit",key:"submit"},l.createElement("button",{className:"mod-small",ref:function(t){e.button=t}},"OK")))}}]),t}();Object.defineProperty(_,"defaultProps",{enumerable:!0,writable:!0,value:{value:null,placeholder:"",handle:function(){}}}),Object.defineProperty(_,"propTypes",{enumerable:!0,writable:!0,value:{value:s.string,placeholder:s.string,handle:s.func}});var S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=["oAnimationEnd","MSAnimationEnd","animationend"],N=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onDocumentClick",{enumerable:!0,writable:!0,value:function(e){for(var t=e.target;t&&n.element!==t;)t=t.parentNode;t||n.close()}}),Object.defineProperty(n,"onGlobalKeyDown",{enumerable:!0,writable:!0,value:function(e){switch(e.key){case"Escape":n.close()}}}),n.contentHeight=0,n.animations=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),S(t,[{key:"setHeight",value:function(e){this.contentHeight=e,this.container.style.height=e+"px"}},{key:"open",value:function(){var e=this;this.finishAnimations(),t.openOverlay!==this&&(t.openOverlay&&t.openOverlay.close(),t.openOverlay=this,this.container.style.height=0,this.container.classList.add("mod-open"),this.contentHeight||(this.contentHeight=Array.from(this.container.children).reduce(function(e,t){return e+t.clientHeight},0)),setTimeout(function(){e.setHeight(e.contentHeight)},0),window.addEventListener("keydown",this.onGlobalKeyDown),window.addEventListener("click",this.onDocumentClick),"function"==typeof this.props.onOpen&&this.props.onOpen())}},{key:"close",value:function(){t.openOverlay===this&&(t.openOverlay=null,this.animateElement(this.container,"animate-close",function(e){e.classList.remove("mod-open"),e.style.height=0}),window.removeEventListener("keydown",this.onGlobalKeyDown),window.removeEventListener("click",this.onDocumentClick),"function"==typeof this.props.onClose&&this.props.onClose())}},{key:"toggle",value:function(){t.openOverlay!==this?this.open():this.close()}},{key:"animateElement",value:function(e,t,n){var r=function r(){e.classList.remove(t),L.forEach(function(t){e.removeEventListener(t,r)}),window.removeEventListener("blur",r),n(e)};L.forEach(function(t){e.addEventListener(t,r)}),window.addEventListener("blur",r),e.classList.add(t),this.animations.push(r)}},{key:"finishAnimations",value:function(){this.animations.forEach(function(e){e()}),this.animations=[]}},{key:"calculateWidth",value:function(){return this.props.width}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"overlay",ref:function(t){t&&(e.element=t)}},l.createElement("div",{className:"overlay-container mod-"+this.props.orientation,style:{width:this.calculateWidth()},ref:function(t){t&&(e.container=t)}},this.props.children),l.createElement("div",{className:"overlay-arrow"}))}}]),t}();Object.defineProperty(N,"defaultProps",{enumerable:!0,writable:!0,value:{width:"",orientation:"left",onOpen:function(){},onClose:function(){}}}),Object.defineProperty(N,"propTypes",{enumerable:!0,writable:!0,value:{width:s.string,orientation:s.string,onOpen:s.func,onClose:s.func}}),Object.defineProperty(N,"openOverlay",{enumerable:!0,writable:!0,value:null});var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function F(e,t,n){for(var r=[e],i=0;i<r.length;i++)for(var o=0;o<r[i].length;o++){var a=r[i][o];if(n(a))return;var l=t(a);l&&r.push(l)}}var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onAnyEvent",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation()}}),Object.defineProperty(n,"onTriggerClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),e.preventDefault(),n.props.disabled||n.overlay.toggle()}}),Object.defineProperty(n,"onTriggerKeyPress",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),e.preventDefault();var t="Enter"===e.key||12===e.which,r=N.openOverlay!==n.overlay;!n.props.disabled&&t&&r&&n.overlay.open()}}),Object.defineProperty(n,"handlePropagation",{enumerable:!0,writable:!0,value:function(e,t){"change"===e?(n.overlay.close(),n.overlay.contentHeight=null,n.setValue(t)):"change-height"===e&&n.overlay.setHeight(t)}}),n.state=n.createState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),Y(t,[{key:"getChildContext",value:function(){return{multiple:this.props.multiple}}},{key:"componentDidMount",value:function(){this.element.addEventListener("click",this.onAnyEvent),this.trigger.addEventListener("click",this.onTriggerClick),this.trigger.addEventListener("keypress",this.onTriggerKeyPress)}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.createState(e))}},{key:"componentWillUnmount",value:function(){this.element.removeEventListener("click",this.onAnyEvent),this.trigger.removeEventListener("click",this.onTriggerClick),this.trigger.removeEventListener("keypress",this.onTriggerKeyPress)}},{key:"onOpen",value:function(){"function"==typeof this.dropdownMenu.onOpen&&this.dropdownMenu.onOpen()}},{key:"onClose",value:function(){"function"==typeof this.dropdownMenu.onClose&&this.dropdownMenu.onClose()}},{key:"getTextFromValue",value:function(e){var t=((arguments.length<=1?0:arguments.length-1)>0?arguments.length<=1?void 0:arguments[1]:"")||(this.state&&this.state.text?this.state.text:"");return"select"===this.props.type&&(Array.isArray(e)?e.length&&(t=e.map(function(e){return e.label||e}).join(", ")):e&&(t=e.label||e)),t}},{key:"setValue",value:function(e){var t=this;this.setState({text:this.getTextFromValue(e),value:e}),this.props.onChange&&this.props.onChange(e),setTimeout(function(){t.element.dispatchEvent(new CustomEvent("change",{detail:e,bubbles:!0}))},100)}},{key:"createState",value:function(e){var t=this.enrichItems(e.items),n=e.value;"string"==typeof n&&"input"!==e.type&&F(t,function(e){return e.children},function(e){return e.value===n&&(n=e,!0)}),n=this.enrichItems(n,function(e){var n=t.find(function(t){return t.value===e});return n?n.label:e});var r={text:this.getTextFromValue(n,e.text),value:n,items:t,filter:e.filter};return F(r.items,function(e){return e.children},function(e){var t=!!r.value.find(function(t){return t.value===e.value});e.selected=t,e.stored=t}),r}},{key:"enrichItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},r=e;return Array.isArray(e)||(r=e?[e]:[]),r.map(function(e){return"object"!==(void 0===e?"undefined":A(e))?{value:e,label:n(e)}:(e.children&&(e.children=t.enrichItems(e.children)),e)})}},{key:"renderTrigger",value:function(){var e=this,t=void 0;this.props.icon&&(t=l.createElement("span",{className:"icon "+this.props.icon}));var n=this.props.disabled?" is-disabled":"",r={};switch(this.props.tabIndex&&(r.tabindex=this.props.tabIndex),this.props.type){case"anchor":return l.createElement("a",I({href:"#void",className:"dropdown-trigger "+n,ref:function(t){e.trigger=t}},r),t," ",this.state.text);case"button":return l.createElement("button",I({className:"dropdown-trigger "+n,ref:function(t){e.trigger=t}},r),t," ",this.state.text);case"select":return l.createElement("div",I({className:"dropdown-trigger select-box "+n,ref:function(t){e.trigger=t}},r),t," ",this.state.text||this.props.placeholder);case"icon":default:return l.createElement("a",I({href:"#void",className:"dropdown-trigger "+n,ref:function(t){e.trigger=t}},r),t)}}},{key:"renderContent",value:function(){var e=this;return this.props.inputOnly?l.createElement(_,{value:this.state.value[0],placeholder:this.props.placeholder,handle:this.handlePropagation,ref:function(t){e.dropdownMenu=t}}):l.createElement(M,{items:this.state.items,value:this.state.value,limit:this.props.limit,filter:this.state.filter,filterable:this.props.filterable,filtered:this.props.filtered,minFilterLength:this.props.minFilterLength,placeholder:this.props.placeholder,selectAll:this.props.selectAll,handle:this.handlePropagation,ref:function(t){e.dropdownMenu=t}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.className,i=t.orientation,o=t.width,a="select"===n;return l.createElement("div",{className:"dropdown  "+r,ref:function(t){t&&(e.element=t)}},this.renderTrigger(),l.createElement(N,{width:o||(a?"100%":""),orientation:i,onOpen:function(){return e.onOpen()},onClose:function(){return e.onClose()},ref:function(t){t&&(e.overlay=t)}},this.renderContent()))}}]),t}();Object.defineProperty(R,"defaultProps",{enumerable:!0,writable:!0,value:{type:"anchor",text:"",icon:"",items:[],className:"",multiple:!1,inputOnly:!1,filterable:!1,filter:"",filtered:!1,minFilterLength:0,limit:10,orientation:"left",placeholder:"",width:"",value:null,onChange:function(){},disabled:!1,selectAll:!1,tabIndex:void 0}}),Object.defineProperty(R,"propTypes",{enumerable:!0,writable:!0,value:{type:s.oneOf(["anchor","button","select","icon"]),text:s.string,icon:s.string,items:s.array,className:s.string,multiple:s.bool,inputOnly:s.bool,filterable:s.bool,filter:s.string,filtered:s.bool,minFilterLength:s.number,limit:s.number,orientation:s.oneOf(["left","right"]),placeholder:s.string,width:s.string,value:s.oneOfType([s.string,s.object,s.array]),onChange:s.func,disabled:s.bool,selectAll:s.bool,tabIndex:s.oneOf(s.string,s.number)}}),Object.defineProperty(R,"childContextTypes",{enumerable:!0,writable:!0,value:{multiple:s.bool}});var W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var H=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initState(),n.initAuthorization(e),n.mounted=!1,n.locales=[{label:"German",value:"de"},{label:"English",value:"en"}],n.subMenus=[],n.menuItems=[],n.level2=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),W(t,null,[{key:"setStorageType",value:function(e,t){this.storage="cookie"===e?new h(t):new v(t),this.authorization.storage=this.storage}},{key:"getAccessToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hash.substr(1);return this.authorization.accessToken||this.authorization.tryFetchToken(e),this.authorization.accessToken}},{key:"removeAccessToken",value:function(){this.authorization.unauthorize()}},{key:"getLocale",value:function(){var e=t.storage.get("locale")||window.navigator.language.replace(/([a-z]+)-.*/,"$1");return-1===["de","en"].indexOf(e)?"en":e}}]),W(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"setLocale",value:function(e){this.setState({locale:e}),t.storage.set("locale",e),this.dispatchEvent("ws-locale-changed",e),"function"==typeof this.props.onLocaleChange&&this.props.onLocaleChange(e)}},{key:"initState",value:function(){this.state={isLoggedIn:!!this.constructor.authorization.accessToken,locale:t.getLocale()}}},{key:"initAuthorization",value:function(){var e=this;this.constructor.authorization.onAccessTokenChange(function(t){e.mounted?e.setState({isLoggedIn:!!t}):e.state.isLoggedIn=!!t,e.dispatchEvent("ws-auth-changed",t)}),this.constructor.authorization.tryFetchToken(window.location.hash.substr(1)),window.addEventListener("ws-authorize",function(){return e.login()}),window.addEventListener("ws-unauthorize",function(){return e.logout()})}},{key:"login",value:function(){this.constructor.authorization.authorize(this.props.loginUrl,this.props.clientId,this.props.businessPartnerId)}},{key:"logout",value:function(){this.constructor.authorization.unauthorize()}},{key:"enterMenuItem",value:function(e){(clearInterval(this.leaveTimeout),this.subMenus.forEach(function(e){return e.classList.remove("is-active")}),this.menuItems.forEach(function(e){return e.classList.remove("is-hovered")}),this.subMenus[e])?(this.level2.classList.add("is-active"),this.subMenus[e].classList.add("is-active"),this.menuItems[e].classList.add("is-hovered")):this.leaveLevel2()}},{key:"leaveMenuItem",value:function(e){var t=this;this.leaveTimeout=setTimeout(function(){(t.level2.classList.remove("is-active"),t.subMenus[e])&&(t.subMenus[e].classList.remove("is-active"),t.menuItems[e].classList.remove("is-hovered"))},10)}},{key:"enterLevel2",value:function(){clearInterval(this.leaveTimeout)}},{key:"leaveLevel2",value:function(){this.subMenus.forEach(function(e){return e.classList.remove("is-active")}),this.menuItems.forEach(function(e){return e.classList.remove("is-hovered")}),this.level2.classList.remove("is-active")}},{key:"renderLink",value:function(e){return e.target||(e.target="_self"),l.createElement("a",{target:e.target,href:e.href,onClick:function(t){e.onClick&&e.onClick(t)}},e.label)}},{key:"renderMenuCommons",value:function(e){return e.rootUrl.$$typeof?e.rootUrl:l.createElement("a",{className:"application-name",href:e.rootUrl},e.appLogo&&l.createElement("figure",{className:"application-logo"},l.createElement("img",{src:e.appLogo,alt:"Application logo"})),e.appName)}},{key:"render",value:function(){var e=this,t=this.props,n=t.links,r=t.showLocale,i=t.showAuthorization;return l.createElement("header",{className:"ws-header",ref:function(t){e.element=t}},l.createElement("div",{className:"level-1"},this.renderMenuCommons(this.props),l.createElement("nav",{className:"main-menu"},l.createElement("ul",null,this.props.links.map(function(t,n){return l.createElement("li",{key:"header-link"+n,onMouseEnter:function(){return e.enterMenuItem(n)},onMouseLeave:function(){return e.leaveMenuItem(n)},ref:function(t){e.menuItems[n]=t},className:t.isCurrent?"is-current":null},t.$$typeof?t:e.renderLink(t))}))),l.createElement("nav",{className:"menu-controls"},l.createElement("ul",null,r&&l.createElement("li",null,l.createElement(R,{className:"locale",icon:"icon24 icon-sort-down",items:this.locales,text:this.state.locale,onChange:function(t){return e.setLocale(t.value)},orientation:"right",type:"anchor"})),i&&(this.state.isLoggedIn?l.createElement("li",null,l.createElement("a",{onClick:function(){return e.logout()},onKeyPress:function(){return e.logout()}},l.createElement("span",{className:"icon icon24 icon-power"}))):l.createElement("li",null,l.createElement("a",{onClick:function(){return e.login()},onKeyPress:function(){return e.login()}},"Login")))))),l.createElement("div",{className:"level-2",onMouseEnter:function(){return e.enterLevel2()},onMouseLeave:function(){return e.leaveLevel2()},onClick:function(){return e.leaveLevel2()},onKeyPress:function(){return e.leaveLevel2()},ref:function(t){e.level2=t}},n.map(function(t,n){return t.children&&t.children.length&&l.createElement("ul",{className:"main-sub-menu",key:"sub-menu"+n,ref:function(t){e.subMenus[n]=t}},t.children.map(function(t,r){return l.createElement("li",{key:"sub-link-"+n+"-"+r,className:t.isCurrent?"is-current":null},e.renderLink(t))}))})))}}]),t}();Object.defineProperty(H,"defaultProps",{enumerable:!0,writable:!0,value:{loginUrl:"https://identity.zalando.com/oauth2/authorize",businessPartnerId:null,clientId:null,links:[],appName:"Zalando",appLogo:null,rootUrl:"#",showLocale:!0,showAuthorization:!0,onLocaleChange:function(){},onAuthChange:function(){}}}),Object.defineProperty(H,"propTypes",{enumerable:!0,writable:!0,value:{loginUrl:s.string,businessPartnerId:s.string,clientId:s.string,links:s.array,appName:s.string,appLogo:s.string,onLocaleChange:s.func,onAuthChange:s.func,rootUrl:s.string,showLocale:s.bool,showAuthorization:s.bool}}),Object.defineProperty(H,"storage",{enumerable:!0,writable:!0,value:new v("")}),Object.defineProperty(H,"authorization",{enumerable:!0,writable:!0,value:new E(H.storage)});var z=n(1),U=n.n(z),K=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var J=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onClick",{enumerable:!0,writable:!0,value:function(e){n.stopPropagation(e),t.flatpickrInstances.forEach(function(t){return t.documentClick(e)})}}),Object.defineProperty(n,"stopPropagation",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation()}}),n.element=null,n.input=null,n.flatpickr=null,n.state={value:e.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),B(t,null,[{key:"setFormat",value:function(e){this.format=e}}]),B(t,[{key:"componentDidMount",value:function(){this.flatpickr=new U.a(this.input,V({weekNumbers:!0,defaultDate:this.state.value,dateFormat:this.constructor.format},this.props.options,{onChange:this.onChange.bind(this)})),t.flatpickrInstances.push(this.flatpickr),this.input.addEventListener("change",this.stopPropagation),this.element.addEventListener("click",this.onClick)}},{key:"componentWillReceiveProps",value:function(e){var t=this;(e.value||e.reset)&&this.flatpickr.setDate(e.value,!1,this.constructor.format),Object.keys(e.options||{}).forEach(function(n){t.flatpickr.set(n,e.options[n])}),this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.input.removeEventListener("change",this.stopPropagation),this.element.removeEventListener("click",this.onClick),this.flatpickr.destroy();var e=t.flatpickrInstances.indexOf(this.flatpickr);-1!==e&&t.flatpickrInstances.splice(e,1)}},{key:"onChange",value:function(e,t){var n=K(e,1)[0];this.setState({value:t}),this.element.dispatchEvent(new CustomEvent("change",{detail:{date:n,value:t},bubbles:!0})),this.props.onChange&&this.props.onChange(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.iconOnly,i=t.placeholder;return l.createElement("div",{className:"ws-date-picker "+(r?"icon-only":"with-input"),ref:function(t){e.element=t}},!r&&[l.createElement("input",{className:n,defaultValue:this.state.value,placeholder:i,ref:function(t){e.input=t},key:"input"}),l.createElement("span",{className:"icon icon-calendar icon16",key:"icon"})],r&&l.createElement("span",{className:"icon icon-calendar icon16 "+n,ref:function(t){e.input=t}}))}}]),t}();Object.defineProperty(J,"defaultProps",{enumerable:!0,writable:!0,value:{value:null,placeholder:"",className:"",iconOnly:!1,options:{},reset:!1,onChange:function(){}}}),Object.defineProperty(J,"propTypes",{enumerable:!0,writable:!0,value:{value:s.oneOfType([s.string,s.number]),placeholder:s.string,className:s.string,iconOnly:s.bool,options:s.object,onChange:s.func,reset:s.bool}}),Object.defineProperty(J,"format",{enumerable:!0,writable:!0,value:"d.m.Y"}),Object.defineProperty(J,"flatpickrInstances",{enumerable:!0,writable:!0,value:[]});var $=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var q=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t}return $(e,[{key:"validate",value:function(e){return!0}},{key:"convert",value:function(e){return e}}]),e}(),G=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Z="([0-9]*(,[0-9]{3})*)(\\.[0-9]+)?",Q=function(e){return e.replace(/[.,]/g,"")},X=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.locale=e.locale,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),G(t,[{key:"validate",value:function(e){return!!e&&(this.locale?t.getPattern(this.locale).test(e):t.getPattern("en").test(e)||t.getPattern("de").test(e))}},{key:"convert",value:function(e){var n=void 0;return this.locale?n=e.replace(t.getPattern(this.locale),t.convertToDecimal):t.getPattern("en").test(e)?n=e.replace(t.getPattern("en"),t.convertToDecimal):t.getPattern("de").test(e)&&(n=e.replace(t.getPattern("de"),t.convertToDecimal)),parseFloat(n)}}],[{key:"getPattern",value:function(e){switch(e){case"de":return new RegExp("^([0-9]*(\\.[0-9]{3})*)(,[0-9]+)?$");case"en":default:return new RegExp("^"+Z+"$")}}},{key:"convertToDecimal",value:function(e){var t=Q((arguments.length<=1?void 0:arguments[1])||(arguments.length<=4?void 0:arguments[4]));return((arguments.length<=3?void 0:arguments[3])||(arguments.length<=6?void 0:arguments[6]))&&(t+="."+Q((arguments.length<=3?void 0:arguments[3])||(arguments.length<=6?void 0:arguments[6]))),t}}]),t}(),ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var te=function(e){return e.replace(/[.,]/g,"")},ne=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.locale=e.locale,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),ee(t,[{key:"validate",value:function(e){return!!e&&t.getPattern(this.locale).test(e)}},{key:"convert",value:function(e){var n=e.replace(t.getPattern(this.locale),t.convertToDecimal);return parseFloat(n)}}],[{key:"getPattern",value:function(e){switch(e){case"de":return new RegExp("^([0-9]*(\\.[0-9]{3})*)(,[0-9]{1,2})?$");case"en":return new RegExp("^([0-9]*(,[0-9]{3})*)(\\.[0-9]{1,2})?$");default:return new RegExp("^([0-9]*(,[0-9]{3})*)(\\.[0-9]{1,2})?|([0-9]*(\\.[0-9]{3})*)(,[0-9]{1,2})?$")}}},{key:"convertToDecimal",value:function(e){var t=te((arguments.length<=1?void 0:arguments[1])||(arguments.length<=4?void 0:arguments[4]));return((arguments.length<=3?void 0:arguments[3])||(arguments.length<=6?void 0:arguments[6]))&&(t+="."+te((arguments.length<=3?void 0:arguments[3])||(arguments.length<=6?void 0:arguments[6]))),t}}]),t}(),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,q),re(t,[{key:"validate",value:function(e){return!0}},{key:"convert",value:function(e){return e}}]),t}(),oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return oe(e,null,[{key:"getStrategy",value:function(e,t){if(!this.TYPES[e])throw new Error("Unknown type: "+e);return new this.TYPES[e](t)}}]),e}();Object.defineProperty(ae,"TYPES",{enumerable:!0,writable:!0,value:{text:ie,number:X,price:ne}});var le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var se=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onFocus",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.isEditing||(n.resizeInput(),n.setState({isEditing:!0},function(){n.input.select(),n.input.focus()}))}}),Object.defineProperty(n,"onKeyUp",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.value;switch(e.key){case"Enter":n.submit(t);break;case"Escape":n.abort();break;default:n.resizeInput(),n.setState({isValid:n.type.validate(t),inputValue:t})}}}),Object.defineProperty(n,"onKeyDown",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),1===e.key.length?n.resizeInput(e.key):n.resizeInput()}}),Object.defineProperty(n,"onChange",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.submit(e.target.value)}}),Object.defineProperty(n,"stopPropagation",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation()}}),n.state=n.createState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),le(t,[{key:"componentDidMount",value:function(){var e=this;this.input.addEventListener("focus",this.onFocus),this.input.addEventListener("keyup",this.onKeyUp),this.input.addEventListener("keydown",this.onKeyDown),this.input.addEventListener("change",this.onChange),setTimeout(function(){return e.resizeInput()},0)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState(this.createState(e),function(){t.resizeInput()})}},{key:"componentWillUnmount",value:function(){this.input.removeEventListener("focus",this.onFocus),this.input.removeEventListener("keydown",this.onKeyDown),this.input.removeEventListener("keyup",this.onKeyUp),this.input.removeEventListener("change",this.onChange)}},{key:"createState",value:function(e){return this.type=ae.getStrategy(e.type,e.options),{isEditing:!1,isValid:!0,inputValue:e.value,initialValue:(e.value||"").toString()}}},{key:"abort",value:function(){this.setState({isEditing:!1,isValid:!0,inputValue:this.state.initialValue})}},{key:"submit",value:function(e){var t={isEditing:!1,inputValue:e};if(this.type.validate(e)){if(e!==this.state.initialValue){t.initialValue=e;var n={plain:e,value:this.type.convert(e)};this.dispatchEvent("change",n),"function"==typeof this.props.onChange&&this.props.onChange(n)}this.setState(t)}}},{key:"resizeInput",value:function(e){if("narrow"===this.props.look){var t=window.getComputedStyle(this.input),n=document.createElement("div");n.style.fontSize=t.fontSize||"16px",n.style.lineHeight=t.lineHeight||"16px",n.style.marginTop=t.marginTop,n.style.marginLeft=t.marginLeft,n.style.marginRight=t.marginRight,n.style.marginBottom=t.marginBottom,n.style.paddingTop=t.paddingTop,n.style.paddingLeft=t.paddingLeft,n.style.paddingRight=t.paddingRight,n.style.paddingBottom=t.paddingBottom,n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.innerText=this.input.value+(e||""),document.body.appendChild(n),this.input.style.width=n.clientWidth+"px",document.body.removeChild(n)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.isEditing,r=t.isValid,i=t.inputValue,o=this.props,a=o.type,s=o.look,c=o.disabled,u="ws-inline-edit";return u+=n?" is-editing":"",u+=" "+a,u+="narrow"===s?" mod-narrow":"",u+=c?" is-disabled":"",l.createElement("div",{className:u,ref:function(t){e.element=t}},l.createElement("div",{className:"input-wrapper"},l.createElement("input",{type:"text",className:r?"":"is-invalid",ref:function(t){e.input=t},value:i}),!r&&l.createElement("span",{className:"icon icon16 icon-cross"})))}}]),t}();Object.defineProperty(se,"defaultProps",{enumerable:!0,writable:!0,value:{value:"",options:{},type:"text",look:"default",disabled:!1,onChange:function(){}}}),Object.defineProperty(se,"propTypes",{enumerable:!0,writable:!0,value:{value:s.string,options:s.object,type:s.oneOf(["text","number","price"]),look:s.oneOf(["narrow","default"]),disabled:s.bool,onChange:s.func}});var ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fe=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={notifications:[],timeouts:{},counter:0},e.addNotify=e.addNotify.bind(e),e.closeAllEvents=e.closeAllEvents.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),ue(t,[{key:"componentDidMount",value:function(){window.addEventListener("ws-notification-open",this.addNotify),window.addEventListener("ws-notification-close-all",this.closeAllEvents)}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.notifications.length<this.state.notifications.length&&this.state.notifications.forEach(function(e){e.id in n.state.timeouts||n.animateIn(e)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("ws-notification-open",this.addNotify),window.removeEventListener("ws-notification-close",this.closeAllEvents)}},{key:"addNotify",value:function(e){var t=e.detail,n=t.title,r=t.description,i=e.detail,o=i.type,a=i.lifetime;void 0===a?a=5e3:a||(a=2147483647),o||(o="info");var l=this.state.counter+1;this.setState({notifications:this.state.notifications.concat([{title:n,description:r,type:o,lifetime:a,id:l}]),counter:l})}},{key:"animateIn",value:function(e){var t=this;this.list.style.transition="none",this.list.style.transform="translate3d(0, 80px, 0)",setTimeout(function(){t.list.style.transition="transform .35s cubic-bezier(.35, 1, .69, .98) .1s",t.list.style.transform="translate3d(0, 0, 0)"},0),this.setState({timeouts:ce({},this.state.timeouts,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e.id,setTimeout(function(){t.close(e.id)},e.lifetime)))})}},{key:"closeAllEvents",value:function(){for(var e=0;e<this.state.notifications.length;e++)this.close(this.state.notifications[e].id)}},{key:"close",value:function(e){var t=this.state.notifications.findIndex(function(t){return t.id===e});if(t>=0){var n=this.state.notifications.slice(),r=n[t].id,i=ce({},this.state.timeouts);delete i[r],clearTimeout(this.state.timeouts[r]),n.splice(t,1),this.setState({notifications:n,timeouts:i})}}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"ws-notification-wrapper"},l.createElement("div",{className:"ws-notification-list",ref:function(t){e.list=t}},this.state.notifications.map(function(t,n){return l.createElement("div",{className:"notification "+t.type,key:"notification-"+n,ref:function(t){e["notification-"+n]=t},onClick:function(){return e.close(t.id)}},l.createElement("div",{className:"icons"},l.createElement("i",{className:"icon icon-info"}),l.createElement("i",{className:"icon icon-warning"}),l.createElement("i",{className:"icon icon-success"}),l.createElement("i",{className:"icon icon-error"})),l.createElement("div",{className:"content"},l.createElement("div",{className:t.description?"title":"title is-standalone"},t.title),t.description?l.createElement("p",{className:"description"},t.description):null))})))}}]),t}(),pe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=[de[10],de[11]].concat(de).concat([de[0],de[1]]),me=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=null!==e.selectedYear&&null!==e.selectedWeek?ve(e.selectedWeek,e.selectedYear):new Date(Date.now());n.state={showingYear:r.getFullYear()};var i=new Date(Date.now());return n.todayYear=i.getFullYear(),n.todayWeek=ge(i),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),pe(t,[{key:"prevYear",value:function(){this.setState({showingYear:this.state.showingYear-1})}},{key:"nextYear",value:function(){this.setState({showingYear:this.state.showingYear+1})}},{key:"isActive",value:function(e,t){return this.props.selectedYear===e&&this.props.selectedWeek===t}},{key:"isToday",value:function(e,t){return this.todayYear===e&&this.todayWeek===t}},{key:"buildWeekRows",value:function(){for(var e=this,t=[],n=-2;n<=13;n++)t.push(be(n,this.state.showingYear));return[0,1,2,3,4].map(function(n){return l.createElement("tr",{key:n},he.map(function(r,i){var o=t[i][n];if(null===o||void 0===o)return l.createElement("td",{key:i+"_"+n});var a=o.week,s=o.year;return l.createElement("td",{className:(i<2||i>13?"off ":"")+(e.isActive(s,a)?"active ":"")+(e.isToday(s,a)?"today ":""),key:i+"_"+n},l.createElement("a",{className:"week",onClick:function(){return e.props.onChange({week:a,year:s})},onKeyPress:function(){return e.props.onChange({week:a,year:s})}},a))}))})}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"ws-date-picker-calendar"},l.createElement("table",null,l.createElement("caption",null,l.createElement("span",{className:"prev",onClick:function(){return e.prevYear()},onKeyPress:function(){return e.prevYear()}},l.createElement("span",{className:"icon icon32 icon-left"}),this.state.showingYear-1),l.createElement("span",{className:"current_year"},this.state.showingYear),l.createElement("span",{className:"next",onClick:function(){return e.nextYear()},onKeyPress:function(){return e.nextYear()}},this.state.showingYear+1,l.createElement("span",{className:"icon icon32 icon-right"}))),l.createElement("thead",null,l.createElement("tr",null,he.map(function(e,t){return l.createElement("th",{key:t},e)}))),l.createElement("tbody",null,this.buildWeekRows())))}}]),t}();function ve(e,t){var n=new Date(t,0,1+7*(e-1)),r=n;return n.getDay()<=4?r.setDate(n.getDate()-n.getDay()+1):r.setDate(n.getDate()+(8-n.getDay())),r}function ge(e){var t=new Date(e.valueOf()),n=e.getDay();t.setDate(t.getDate()-(n+3));var r=(t-new Date(t.getFullYear(),0,4))/864e5;return 1+Math.ceil(r/7)}function be(e,t){for(var n=e,r=t;n>11;)r+=1,n-=12;for(;n<0;)r-=1,n+=12;var i=ge(new Date(r,n,1));i=0===n?1:ve(i,r).getMonth()!==n?i+1:i;var o=ge(new Date(r,n+1,0));o=1===o?ge(new Date(r,n+1,-7)):ve(o,r).getMonth()!==n?o-1:o;for(var a=[],l=i;l<=o;l++)a.push({week:l,year:r});return a}Object.defineProperty(me,"defaultProps",{enumerable:!0,writable:!0,value:{selectedYear:null,selectedWeek:null,onChange:function(){}}}),Object.defineProperty(me,"propTypes",{enumerable:!0,writable:!0,value:{selectedYear:s.number,selectedWeek:s.number,onChange:s.func}});var ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var we=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.element=null,n.state={show:!1,selectedYear:e.selectedYear,selectedWeek:e.selectedWeek},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),ye(t,[{key:"componentDidMount",value:function(){var e=this;this.outsideClickListener=document.body.addEventListener("click",function(t){e.state.show&&!function(e,t){var n=t.parentNode;for(;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}(e.element,t.target)&&e.setState({show:!1})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({selectedYear:null===e.selectedYear?e.selectedYear:this.state.selectedYear,selectedWeek:null===e.selectedWeek?e.selectedWeek:this.state.selectedWeek,show:null===e.show?e.show:this.state.show})}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.outsideClickListener)}},{key:"onChange",value:function(e){var t=e.week,n=e.year;this.state.selectedWeek===t&&this.state.selectedYear===n||(this.setState({selectedYear:n,selectedWeek:t}),this.props.onChange?this.props.onChange({week:t,year:n}):this.element.dispatchEvent(new CustomEvent("change",{week:t,year:n},{bubbles:!0})))}},{key:"toggleCalendar",value:function(){this.setState({show:!this.state.show})}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"ws-week-picker",ref:function(t){e.element=t}},l.createElement("input",{value:null!==this.state.selectedWeek?"Week "+this.state.selectedWeek+", "+this.state.selectedYear:"",placeholder:"Please choose a week",onClick:function(){return e.toggleCalendar()},readOnly:!0}),l.createElement("span",{className:"icon icon16 "+(this.state.show?"":"icon-calendar"),onClick:function(){return e.toggleCalendar()},onKeyPress:function(){return e.toggleCalendar()}}),this.state.show&&l.createElement(me,{onChange:function(t){return e.onChange(t)},selectedYear:this.state.selectedYear,selectedWeek:this.state.selectedWeek}))}}]),t}();Object.defineProperty(we,"defaultProps",{enumerable:!0,writable:!0,value:{selectedYear:null,selectedWeek:null,onChange:function(){}}}),Object.defineProperty(we,"propTypes",{enumerable:!0,writable:!0,value:{selectedYear:s.number,selectedWeek:s.number,onChange:s.func}});var ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),ke(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.identifier,r=t.config,i=t.size,o=t.groupName,a=t.className,s={backgroundColor:r,width:i+"px",height:i+"px"};return l.createElement("div",{className:"tile "+o+" "+a,style:s,onClick:function(){return e.props.onClick(o,n)},onKeyPress:function(){return e.props.onClick(o,n)},onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave})}}]),t}();Object.defineProperty(Ee,"propTypes",{enumerable:!0,writable:!0,value:{identifier:s.string,config:s.string,groupName:s.string,size:s.number,onClick:s.func,onMouseEnter:s.func.isRequired,onMouseLeave:s.func.isRequired}}),Object.defineProperty(Ee,"defaultProps",{enumerable:!0,writable:!0,value:{identifier:"",config:"",groupName:"",size:25,onClick:function(){}}});var Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var De=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tileSize:0,groupOver:""},n.titleDivSize=30,n.getTileSize=n.getTileSize.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),Oe(t,[{key:"componentWillMount",value:function(){this.setState({tileSize:this.getTileSize(this.props)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({tileSize:this.getTileSize(e)})}},{key:"getTileSize",value:function(e){var t=e.height,n=e.width,r=e.maxTileSize,i=e.minTileSize,o=e.data.groups||{};if(r===i||0===Object.keys(o).length)return i;var a=Object.keys(o).map(function(e){return o[e].length}).reduce(function(e,t){return e+t}),l=this.calculateMaximumPossibleTileSize(n,t-this.titleDivSize,a);return l<=r&&l>=i?l:l>r?r:i}},{key:"calculateMaximumPossibleTileSize",value:function(e,t,n){var r=e<t?e*e:t*t;return Math.sqrt(r/n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.config,i=t.title,o=t.width,a=t.height,s=n.groups||{};return l.createElement("div",{className:"ws-tiles-chart",style:{width:o+"px",height:a+"px"}},l.createElement("div",{className:"tiles-chart-title"},i),l.createElement("div",{className:"tiles-chart-container",style:{maxHeight:a-this.titleDivSize+"px"},onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},Object.keys(s).map(function(t){return s[t].map(function(n){return l.createElement(Ee,{identifier:n,className:e.state.groupOver===t?"group-over":"",groupName:t,config:r[t],size:e.state.tileSize,onClick:e.props.onClick,onMouseEnter:function(){return e.setState({groupOver:t})},onMouseLeave:function(){return e.setState({groupOver:""})}})})})))}}]),t}();Object.defineProperty(De,"defaultProps",{enumerable:!0,writable:!0,value:{data:{},config:{},title:"",maxTileSize:25,minTileSize:8,width:80,height:80,onMouseEnter:function(){},onMouseLeave:function(){},onClick:function(){}}}),Object.defineProperty(De,"propTypes",{enumerable:!0,writable:!0,value:{data:s.object,config:s.object,title:s.string,maxTileSize:s.number,minTileSize:s.number,width:s.number,height:s.number,onMouseEnter:s.func,onMouseLeave:s.func,onClick:s.func}});var Ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),Ce(t,[{key:"render",value:function(){return l.createElement("div",{className:"spinner mod-"+this.props.size+" "+(this.props.isWhite?"mod-white":"")},l.createElement("div",{className:"spinner-layer"},l.createElement("div",{className:"circle-clipper left"},l.createElement("div",{className:"circle"})),l.createElement("div",{className:"circle-clipper right"},l.createElement("div",{className:"circle"}))))}}]),t}();Object.defineProperty(Pe,"propTypes",{enumerable:!0,writable:!0,value:{size:s.oneOf(["small","medium","large"]),isWhite:s.bool}}),Object.defineProperty(Pe,"defaultProps",{enumerable:!0,writable:!0,value:{size:"medium",isWhite:!1}});var je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Me=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onClick",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=n.menuItems.indexOf(e.currentTarget),r=n.props.items[t];r.disabled||r.value!==n.state.value&&(n.setState({value:r.value}),n.animateDash(e.currentTarget),n.dispatchEvent("change",r.value),"function"==typeof n.props.onChange&&n.props.onChange(r.value))}}),n.state=n.createState(e),n.menuItems=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),je(t,[{key:"componentDidMount",value:function(){this.configureMenuItems()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState(this.createState(e));var n=this.props.items.findIndex(function(e){return e.value===t.state.value})||0;this.animateDash(this.menuItems[n])}},{key:"componentDidUpdate",value:function(){this.configureMenuItems()}},{key:"componentWillUnmount",value:function(){var e=this;this.menuItems.forEach(function(t){return t.removeEventListener("click",e.onClick)})}},{key:"configureMenuItems",value:function(){var e=this;this.menuItems.forEach(function(t,n){e.props.items[n].value===e.state.value&&e.animateDash(t),t.addEventListener("click",e.onClick)})}},{key:"animateDash",value:function(e){this.dash.style.left=e.offsetLeft+"px",this.dash.style.right=e.parentNode.offsetWidth-e.offsetLeft-e.offsetWidth+"px"}},{key:"createState",value:function(e){if(!e.items.length)throw new Error("WSTabMenu has no items specified: "+JSON.stringify(e));return e.value?{value:e.value}:{value:e.items[0].value}}},{key:"renderMenuItem",value:function(e,t){var n=this,r="tab-item "+(e.className||"");return e.value===this.state.value?r+=" is-active":e.disabled&&(r+=" is-disabled"),l.createElement("li",{className:r,ref:function(e){n.menuItems[t]=e},key:"item-"+t},l.createElement("span",{className:"text"},e.label||e.value),void 0!==e.badge&&l.createElement("span",{className:"badge mod-gray"},e.badge))}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"tab-menu-container",ref:function(t){e.element=t}},l.createElement("ul",{className:"tab-menu"},this.props.items.map(function(t,n){return e.renderMenuItem(t,n)})),l.createElement("div",{className:"dash-bar"},l.createElement("div",{className:"dash",ref:function(t){e.dash=t}})))}}]),t}();Object.defineProperty(Me,"propTypes",{enumerable:!0,writable:!0,value:{items:s.array,value:s.any,onChange:s.func}}),Object.defineProperty(Me,"defaultProps",{enumerable:!0,writable:!0,value:{items:[],value:null,onChange:null}});var Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(n,"onClickToggle",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),n.state.visible===n.state.items.length?n.setState({visible:n.props.initialVisible}):n.setState({visible:n.state.items.length})}}),Object.defineProperty(n,"onClickButton",{enumerable:!0,writable:!0,value:function(e){e.stopPropagation();var t=n.state.items,r=n.buttons.indexOf(e.currentTarget);t[r].selected=!t[r].selected,n.setState({items:t});var i=t.filter(function(e){return e.selected}).map(function(e){return e.value});n.dispatchEvent("change",i),"function"==typeof n.props.onChange&&n.props.onChange(i)}}),n.buttons=[],n.state=n.createState(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),xe(t,[{key:"componentDidMount",value:function(){var e=this;this.buttons.forEach(function(t){return t.addEventListener("click",e.onClickButton)}),this.moreAnchor&&this.moreAnchor.addEventListener("click",this.onClickToggle)}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.createState(e))}},{key:"componentDidUpdate",value:function(){var e=this;this.buttons.forEach(function(t){return t.addEventListener("click",e.onClickButton)}),this.moreAnchor&&this.moreAnchor.addEventListener("click",this.onClickToggle)}},{key:"componentWillUnmount",value:function(){var e=this;this.buttons.forEach(function(t){return t.removeEventListener("click",e.onClickButton)}),this.moreAnchor&&this.moreAnchor.removeEventListener("click",this.onClickToggle)}},{key:"createState",value:function(e){var t=this.enrichItems(e.items),n=[];return e.value&&(n=Array.isArray(e.value)?e.value:[e.value]),t.forEach(function(e){e.selected=n.includes(e.value)}),{items:t,visible:e.initialVisible,value:n}}},{key:"enrichItems",value:function(e){return e.map(function(e){return"object"===(void 0===e?"undefined":Te(e))?e:{label:e,value:e}})}},{key:"render",value:function(){var e=this;return l.createElement("div",{className:"ws-option-buttons",ref:function(t){e.element=t}},this.state.items.map(function(t,n){return l.createElement("div",{className:"option-button "+(n<e.state.visible?"":"is-hidden")},l.createElement("a",{className:e.props.buttonClass+" "+(t.selected?"is-active":""),"data-index":"",ref:function(t){e.buttons[n]=t}},t.label||t.value))}),l.createElement("a",{href:"#void",className:"show-more "+(this.props.initialVisible<this.state.items.length?"is-hidden":""),ref:function(t){e.moreAnchor=t}},this.state.visible===this.state.items.length?"less":"more"))}}]),t}();Object.defineProperty(_e,"propTypes",{enumerable:!0,writable:!0,value:{items:s.array,initialVisible:s.number,value:s.string,buttonClass:s.string,onChange:s.func}}),Object.defineProperty(_e,"defaultProps",{enumerable:!0,writable:!0,value:{items:[],initialVisible:3,value:null,buttonClass:"",onChange:function(){}}});t.default={WSHeader:H,WSDatePicker:J,WSDropdown:R,WSInlineEdit:se,WSNotification:fe,WSWeekPicker:we,WSTilesChart:De,WSSpinner:Pe,WSTabMenu:Me,WSOptionButtons:_e}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,l,s){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,a,l,s],f=0;(c=new Error(t.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r=n(7),i=n(6),o=n(5);e.exports=function(){function e(e,t,n,r,a,l){l!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}}])});